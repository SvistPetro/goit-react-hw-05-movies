{"version":3,"file":"static/js/881.0c13c9c0.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/Movies.jsx","services/api.js","../node_modules/nanoid/url-alphabet/index.js","../node_modules/nanoid/index.browser.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"form\":\"Movies_form__4ow+Z\",\"input\":\"Movies_input__KrUqs\",\"button\":\"Movies_button__GcIka\",\"link\":\"Movies_link__MzAfU\"};","import { useEffect, useState } from 'react';\nimport { useSearchParams, Link, useLocation } from 'react-router-dom';\nimport { requestFilteredMovies } from 'services/api';\nimport { Loader } from 'components/Loader/Loader';\nimport { nanoid } from 'nanoid';\nimport css from './Movies.module.css';\n\n\nconst Movies = () => {\n  const location = useLocation();\n  const [error, setError] = useState(null);\n  const [movies, setMovies] = useState(null);\n  const [isLoadMore, setIsLoadMore] = useState(false);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query');\n\n  useEffect(() => {\n      if(query === null || query === '') return;\n\n      const fetchFilteredMovies = async () => {\n        try {\n          setIsLoadMore(true);\n          const resp = await requestFilteredMovies(query);\n          setMovies(resp.data.results);\n        }\n        catch (error) {\n          setError(error);\n        }\n        finally {\n          setIsLoadMore(false);\n        }\n      };\n    \n      fetchFilteredMovies();\n  },[query]);\n\n  const handleSubmitForm = e => {\n    e.preventDefault();\n\n    const searchValue = e.currentTarget.elements.SearchMovies.value.trim();    \n    setSearchParams({query: searchValue});\n  }\n\n  return (\n    <div >\n      <form className={css.form} onSubmit={handleSubmitForm}>\n        <label htmlFor=\"SearchMovies\">\n          <input type=\"text\" name=\"SearchMovies\" className={css.input} defaultValue={query} required/>\n        </label>\n        <button type=\"submit\" className={css.button}>Search</button>\n      </form>\n      <div>\n        {isLoadMore && <Loader />}\n        {error && <p>Something went wrong...</p>}\n        {movies?.length === 0 && <div>We have no movies for this request.</div>}\n        <ul>\n          {movies !== null && movies?.length > 0? (movies.map(({ id, title, name }) => {\n            return (\n              <li key={nanoid()}>\n                <Link className={css.link} state={{from: location}} to={`/movies/${id}`}>\n                  <span>{title || name}</span>\n                </Link>\n              </li>\n            );\n          })) : <div>We have no movies for this request.</div>}\n        </ul>\n      </div>\n    </div>\n  )\n}\n\nexport default Movies;","import axios from 'axios';\n\nconst API_KEY = '9d853ff80d6bad3956ee1b02dd688b86';\nconst url = 'https://api.themoviedb.org/3/';\nexport const AUTH_KEY = 'eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI5ZDg1M2ZmODBkNmJhZDM5NTZlZTFiMDJkZDY4OGI4NiIsInN1YiI6IjY1YzI5YWIwOGUyZTAwMDE4M2E0ZWUxMSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.hazNQV9NpBZxh2Yqr24KXmtM3BG02PDT4G2-CtofMcU';\n\nexport const requestTrendingMovies = async () => {\n  const options = {\n    method: 'GET',\n    url: `${url}/trending/movie/day`,\n    params: { language: 'en-US', api_key: API_KEY },\n    headers: {\n      accept: 'application/json',\n      Authorization: `Bearer ${AUTH_KEY}`,\n    },\n  };\n\n  const data = await axios(options);\n  return data;\n  };\n\nexport const requestMovieById = async (id) => {\n  const options = {\n    method: 'GET',\n    url: `${url}/movie/${id}`,\n    params: { language: 'en-US', api_key: API_KEY },\n    headers: {\n      accept: 'application/json',\n      Authorization: `Bearer ${AUTH_KEY}`,\n    },\n  };\n\n  const data = await axios(options);\n  return data;\n}\n\nexport const requestMovieCast = async (id) => {\n  const options = {\n    method: 'GET',\n    url: `${url}/movie/${id}/credits`,\n    params: { language: 'en-US', api_key: API_KEY },\n    headers: {\n      accept: 'application/json',\n      Authorization: `Bearer ${AUTH_KEY}`,\n    },\n  };\n\n  const data = await axios(options);\n  return data;\n}\n\nexport const requestMovieReviews = async (id) => {\n  const options = {\n    method: 'GET',\n    url: `${url}/movie/${id}/reviews`,\n    params: { language: 'en-US', page: 1, api_key: API_KEY },\n    headers: {\n      accept: 'application/json',\n      Authorization: `Bearer ${AUTH_KEY}`,\n    },\n  };\n\n  const data = await axios(options);\n  return data;\n}\n\nexport const requestFilteredMovies = async (query) => {\n  const options = {\n    method: 'GET',\n    url: `${url}/search/movie`,\n    params: { query: query, include_adult: false, language: 'en-US', page: 1, api_key: API_KEY },\n    headers: {\n      accept: 'application/json',\n      Authorization: `Bearer ${AUTH_KEY}`,\n    },\n  };\n\n  const data = await axios(options);\n  return data;\n};","export const urlAlphabet =\n  'useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict'\n","import { urlAlphabet } from './url-alphabet/index.js'\nexport { urlAlphabet } from './url-alphabet/index.js'\nexport let random = bytes => crypto.getRandomValues(new Uint8Array(bytes))\nexport let customRandom = (alphabet, defaultSize, getRandom) => {\n  let mask = (2 << (Math.log(alphabet.length - 1) / Math.LN2)) - 1\n  let step = -~((1.6 * mask * defaultSize) / alphabet.length)\n  return (size = defaultSize) => {\n    let id = ''\n    while (true) {\n      let bytes = getRandom(step)\n      let j = step\n      while (j--) {\n        id += alphabet[bytes[j] & mask] || ''\n        if (id.length === size) return id\n      }\n    }\n  }\n}\nexport let customAlphabet = (alphabet, size = 21) =>\n  customRandom(alphabet, size, random)\nexport let nanoid = (size = 21) => {\n  let id = ''\n  let bytes = crypto.getRandomValues(new Uint8Array(size))\n  while (size--) {\n    id += urlAlphabet[bytes[size] & 63]\n  }\n  return id\n}\n"],"names":["location","useLocation","_useState","useState","_useState2","_slicedToArray","error","setError","_useState3","_useState4","movies","setMovies","_useState5","_useState6","isLoadMore","setIsLoadMore","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","query","get","useEffect","fetchFilteredMovies","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","resp","_context","prev","next","requestFilteredMovies","sent","data","results","t0","finish","stop","apply","arguments","_jsxs","children","className","css","onSubmit","e","preventDefault","searchValue","currentTarget","elements","SearchMovies","value","trim","_jsx","htmlFor","type","name","defaultValue","required","Loader","length","map","_ref2","id","title","Link","state","from","to","concat","nanoid","API_KEY","url","AUTH_KEY","requestTrendingMovies","options","method","params","language","api_key","headers","accept","Authorization","axios","abrupt","requestMovieById","_callee2","_context2","_x","requestMovieCast","_ref3","_callee3","_context3","_x2","requestMovieReviews","_ref4","_callee4","_context4","page","_x3","_ref5","_callee5","_context5","include_adult","_x4","urlAlphabet","size","undefined","bytes","crypto","getRandomValues","Uint8Array"],"sourceRoot":""}